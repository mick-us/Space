<!Doctype html>
<html>
    <head>
        <title>Space</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <body>
        <script type"text/javascript" src="dat.gui.min.js"></script>

        <script type="x-shader/x-vertex" id="vertexShader">
            void main() 
            {
              gl_Position = projectionMatrix *  modelViewMatrix * vec4(position,1.0);
            }
          </script>

        <script type="x-shader/x-vertex" id="fragmentShader">
            void main() 
            {
                gl_FragColor = vec4(gl_FragCoord.x*0.0005,0.,0.,1.);
            }
        </script>

        <script type="module">
            import * as THREE from 'https://unpkg.com/three@0.121.1/build/three.module.js';
		    import { OrbitControls } from 'https://unpkg.com/three@0.121.1/examples/jsm/controls/OrbitControls.js';
            import { OBJLoader } from 'https://unpkg.com/three@0.121.1/examples/jsm/loaders/OBJLoader.js';
            
            //declaration des variables globales
            var renderer, scene, camera, controls;
            var mercure, g_mercure;

            init()
            animate()

            function init()
            {
                //render
                renderer = new THREE.WebGLRenderer({ antialias: true });
		        renderer.setPixelRatio(window.devicePixelRatio);
		        renderer.setSize(window.innerWidth, window.innerHeight);
	            document.body.appendChild(renderer.domElement);
                renderer.setClearColor(0x000000, 1.0);
                renderer.clear();

                //scene
                scene = new THREE.Scene(); //creation de la scene
                scene.background = new THREE.Color(0x010614);

                //camera
                camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
                camera.lookAt(scene.position);
                camera.position.set(0,400,500);
                camera.rotation.set(0,0,0);

                //groupe
                g_mercure=new THREE.Group();
                scene.add(g_mercure);

                //lumiere
                var whiteLight= new THREE.HemisphereLight(0xfff1bb,0xfff1bb,1);
                whiteLight.position.set(0,800,0);
                scene.add(whiteLight);

                //controls
                controls=new OrbitControls(camera,renderer.domElement);

                //Soleil
                var sun=new THREE.Mesh(new THREE.SphereGeometry(100,100,100),new THREE.MeshPhongMaterial({color:0xffffff }));
                sun.position.set(0,0,0);
                g_mercure.add(sun);

                //Mercure
                mercure=new THREE.Mesh(new THREE.SphereGeometry(30,30,30),new THREE.ShaderMaterial({
                    vertexShader: document.getElementById( 'vertexShader' ).textContent,
                    fragmentShader: document.getElementById( 'fragmentShader' ).textContent}));
                mercure.position.set(-300,0,0);
                g_mercure.add(mercure);
                
                //repere xyz
                var axisHelper=new THREE.AxesHelper(500);
                scene.add(axisHelper);
            }

            function animate()
            {
                g_mercure.rotation.y+=0.005;
                requestAnimationFrame(animate);
                renderer.render(scene,camera); //rendu avec la scene et la camera
                controls.update();
            }

            function print(message) 
            {
                console.log(message);
            }
        </script>
    </body>
</html>

